'use strict';

<<<<<<< HEAD
const clone = require('../helpers/clone');
=======
const utils = require('../utils');
>>>>>>> e850dbdd69512603c0d4d12d8d93e241262e32af

class PopulateOptions {
  constructor(obj) {
    this._docs = {};
<<<<<<< HEAD
    this._childDocs = [];
=======
>>>>>>> e850dbdd69512603c0d4d12d8d93e241262e32af

    if (obj == null) {
      return;
    }
<<<<<<< HEAD
    obj = clone(obj);
=======
    obj = utils.clone(obj);
>>>>>>> e850dbdd69512603c0d4d12d8d93e241262e32af
    Object.assign(this, obj);
    if (typeof obj.subPopulate === 'object') {
      this.populate = obj.subPopulate;
    }
<<<<<<< HEAD


    if (obj.perDocumentLimit != null && obj.limit != null) {
      throw new Error('Can not use `limit` and `perDocumentLimit` at the same time. Path: `' + obj.path + '`.');
    }
=======
>>>>>>> e850dbdd69512603c0d4d12d8d93e241262e32af
  }
}

/**
 * The connection used to look up models by name. If not specified, Mongoose
 * will default to using the connection associated with the model in
 * `PopulateOptions#model`.
 *
 * @memberOf PopulateOptions
 * @property {Connection} connection
 * @api public
 */

module.exports = PopulateOptions;